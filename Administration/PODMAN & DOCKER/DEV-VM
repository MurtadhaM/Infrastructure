#A Simple Terminal Configuration
#Created by: Murtadha Marzouq

# Language: Dockerfile
#Set the commands to run

FROM alpine:latest
# Update the system
RUN apk update

# Install ZSH
RUN apk add zsh curl git nano wget

# Set the default shell
SHELL ["/bin/zsh", "-c"]




#Set the default user
USER root


# INSTALL OH-MY-ZSH
RUN sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"

# INSTALL SSH
RUN apk add openssh
# ENABLE SSH
RUN ssh-keygen -A
RUN echo "PermitRootLogin yes" >> /etc/ssh/sshd_config
RUN echo "PasswordAuthentication yes" >> /etc/ssh/sshd_config

# OMZSH THEME
RUN sed -i 's/ZSH_THEME="robbyrussell"/ZSH_THEME="agnoster"/g' ~/.zshrc

# EXPOSE PORTS
EXPOSE 22
EXPOSE 8080





# DOCKER BUILD

#REPONAME=snake-dev-box
#podman build .  -t docker.io/mmarzouq/$REPONAME --file Dockerfile
#podman push docker.io/mmarzouq/$REPONAME

# DOCKER RUN
#podman run --hostname SnakeDevBox  -it mmarzouq/snake-dev-box:latest zsh